{% extends 'store/base.html' %}
{% load static %}

{% block title %}My Addresses - PyKart{% endblock %}

{% block content %}
<div class="container">
    <div class="breadcrumb">
        <a href="{% url 'store:home' %}">Home</a> / 
        <a href="{% url 'accounts:profile' %}">Profile</a> / 
        <span>Addresses</span>
    </div>

    <h1 class="page-title">My Addresses</h1>

    <div class="address-container">
        <div class="address-header">
            <h2>Saved Addresses</h2>
            <a href="{% url 'accounts:address_create' %}" class="btn-primary">Add New Address</a>
        </div>

        {% if addresses %}
        <div class="address-grid">
            {% for address in addresses %}
            <div class="address-card {% if address.is_default %}default-address{% endif %}">
                {% if address.is_default %}
                <div class="default-badge">Default</div>
                {% endif %}
                
                <div class="address-header-card">
                    <h3>{{ address.full_name }}</h3>
                    <span class="address-type">{{ address.get_address_type_display }}</span>
                </div>
                
                <div class="address-details">
                    <p>{{ address.address_line1 }}</p>
                    {% if address.address_line2 %}
                    <p>{{ address.address_line2 }}</p>
                    {% endif %}
                    <p>{{ address.city }}, {{ address.state }} {{ address.postal_code }}</p>
                    <p>{{ address.country }}</p>
                    <p class="phone-number">Phone: {{ address.phone_number }}</p>
                </div>
                
                <div class="address-actions">
                    <a href="{% url 'accounts:address_edit' address.id %}" class="btn-edit">Edit</a>
                    <form method="post" action="{% url 'accounts:address_delete' address.id %}" class="delete-form" onsubmit="return confirm('Are you sure you want to delete this address?');">
                        {% csrf_token %}
                        <button type="submit" class="btn-delete">Delete</button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <p>You haven't added any addresses yet.</p>
            <a href="{% url 'accounts:address_create' %}" class="btn-primary">Add Your First Address</a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

